/*
register configurations for primary user interface interrupts:

interrupt (high priority) on emergency stop - PORTB0
interrupt (low priority) on OR input - PORTB1
interrupt on ON/OFF (high priority) - PORTB4 (note: interrupts on PORTB 4:7 may have to be disabled during debugging)
disable interrupt on PORTB2
*/

RCON.IPEN = 1;		//enable priority on interrupts
INTCON2.RBPU = 1;	//PORTB internal pullups disabled
TRISB = 0x1F; 		//set PORTB 0:4 pins to inputs and 5:7 pins as outputs 


//interrupt setup for emergency stop
INTCON.INT0IE = 1;	//enable PORTB0 interrupt (high priority interrupt)
INTCON.INT0IF = 1;	//clear PORTB0 interrupt flag
INTCON2.INTEDG0 = 1;	//PORTB0 interrupt on rising edge

//interrupt setup for OR input
INTCON3.INT1IE = 1;	//enable PORTB1 interrupt
INTCON3.INT1IP = 0;	//set PORTB1 interrupt to low priority
INTCON3.INT1IF = 1;	//clear PORTB1 interrupt flag
INTCON2.INTEDG1 = 1;	//PORTB1 interrupt on rising edge

//disable interrupt on PORTB2
INTCON3.INT2IE = 0; 	//disable PORTB2 interrupt
INTCON3.INT2IF = 0;	//clear PORTB2 interrupt flag

//interrupt setup for state change of ON/OFF switch
INTCON.RBIF = 0;	//clear PORTB 4:7 interrupt flag
INTCON.RBIE = 1;	//enable interrupt in PORTB 4:7 
INTCON2.BBIP = 1;	//set interrupt to high priority





